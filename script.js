// ===========================
// TRANSLATIONS
// ===========================
const translations = {
  es: {
    'nav.about': 'Sobre mí',
    'nav.services': 'Servicios',
    'nav.process': 'Proceso',
    'nav.projects': 'Proyectos',
    'nav.contact': 'Contactar',
    'hero.badge': 'Disponible para proyectos',
    'hero.desc1': 'Creo sitios web profesionales que ',
    'hero.desc2': 'ranquean en Google',
    'hero.desc3': ' y convierten visitantes en clientes. WordPress, Wix, Shopify — con estrategias SEO que generan tráfico orgánico real.',
    'hero.cta1': 'Ver Proyectos',
    'hero.cta2': 'Hablemos →',
    'hero.stat1': 'Proyectos',
    'hero.stat2': 'Años exp.',
    'hero.stat3': 'Plataformas',
    'hero.stack': 'Stack Principal',
    'about.label': 'Sobre mí',
    'about.p1': 'Especialista en crear sitios web profesionales con WordPress, Wix y Shopify. Aplico técnicas de SEO on-page y off-page comprobadas para posicionar sitios en Google y atraer tráfico orgánico real.',
    'about.p2': 'Desde 2022 he trabajado en agencias y de forma independiente, ayudando a negocios a crecer en el mundo digital mediante estrategias integrales de desarrollo web y posicionamiento.',
    'about.role1desc': 'Gestión de estrategias SEO: link building, optimización de Google My Business y SEO on/off-page. Diseño web para clientes.',
    'about.present': 'Presente',
    'about.independent': 'Independiente',
    'about.role2desc': 'Ayudo a negocios a mejorar su visibilidad online con SEO efectivo y sitios WordPress a medida que aumentan el tráfico y conversiones.',
    'about.skillsTitle': 'Especialidades',
    'services.label': 'Servicios',
    'services.titleFull': 'Lo que <span class="accent-text">ofrezco</span>',
    'services.s1desc': 'Sitios web profesionales, rápidos y escalables. Diseño personalizado con Elementor, plugins optimizados y código limpio.',
    'services.s2desc': 'Estrategias completas de posicionamiento orgánico. Keyword research, auditorías técnicas, link building y optimización de contenido.',
    'services.s3title': 'Online Store',
    'services.s3desc': 'Tiendas online con WooCommerce y Shopify. Catálogos, pasarelas de pago, gestión de inventario y UX optimizada.',
    'services.s4title': 'Soporte & Mantenimiento',
    'services.s4desc': 'Mantenimiento continuo, actualizaciones, backups y soporte técnico para que tu negocio nunca se detenga.',
    'process.label': 'Proceso',
    'process.titleFull': 'Cómo <span class="accent-text">trabajo</span>',
    'process.step1title': 'Investigación & Estrategia',
    'process.step1desc': 'Keyword research, auditorías técnicas y análisis de competencia. Defino objetivos y estrategias SEO claras.',
    'process.step2title': 'Diseño & Desarrollo',
    'process.step2desc': 'Construyo el sitio implementando buenas prácticas SEO desde el inicio. Diseño responsive y optimizado.',
    'process.step3title': 'Testing & Optimización',
    'process.step3desc': 'Pruebas de velocidad, accesibilidad y compatibilidad móvil. Ajustes para máxima UX.',
    'process.step4title': 'Monitoreo & Crecimiento',
    'process.step4desc': 'Analytics y Search Console para monitorear rendimiento y maximizar el tráfico orgánico.',
    'projects.label': 'Proyectos',
    'projects.titleFull': 'Últimos <span class="accent-text">trabajos</span>',
    'projects.visit': 'Visitar →',
    'filter.all': 'Todos',
    'proj.verden': 'Sitio web para empresa de paisajismo con diseño visual impactante, SEO local y formulario de contacto optimizado.',
    'proj.detroit': 'Web para empresa de cercas en Detroit. SEO local para atraer clientes residenciales y comerciales.',
    'proj.navet': 'Importadora-distribuidora de productos para animales. Catálogo B2B con estructura SEO sólida.',
    'proj.colibri': 'Empresa de productos de madera premium. Diseño elegante con WooCommerce integrado.',
    'proj.aion': 'Shows de drones en el Caribe. Sitio impactante orientado a conversión para cotizar espectáculos.',
    'proj.spicedup': 'Tienda Shopify de especias y condimentos. E-commerce completo con catálogo y pasarela de pagos.',
    'proj.cursos': 'Plataforma de cursos online con inscripción, clases en línea y consultoría integrada.',
    'proj.prolux': 'Sitio corporativo para empresa constructora con portafolio de proyectos y formularios de cotización.',
    'proj.cecilia': 'Presencia online para nail artist con integración a redes sociales y links de contacto directo.',
    'proj.ekarder': 'Empresa de paisajismo con galería de servicios y estrategia SEO local para captar clientes.',
    'contact.label': 'Contacto',
    'contact.title1': '¿Listo para',
    'contact.title2': 'crecer online?',
    'contact.desc': 'Trabajemos juntos en tu próximo proyecto. Ya sea un nuevo sitio web, una campaña SEO o una tienda online, estoy listo para ayudarte.',
    'contact.phone': 'Teléfono',
    'form.name': 'Nombre',
    'form.namePh': 'Tu nombre completo',
    'form.service': 'Servicio',
    'form.serviceDefault': '¿Qué necesitas?',
    'form.opt1': 'Sitio web WordPress',
    'form.opt3': 'Tienda Online',
    'form.opt4': 'Mantenimiento',
    'form.opt5': 'Otro',
    'form.message': 'Mensaje',
    'form.messagePh': 'Cuéntame sobre tu proyecto...',
    'form.submit': 'Enviar Mensaje →',
    'form.success': '✓ ¡Mensaje enviado!',
    'nav.stack': 'Stack',
    'stack.label': 'Tech Stack',
    'stack.titleFull': 'Frontend <span class="accent-text">& más</span>',
    'stack.intro': 'Mi enfoque principal es el desarrollo frontend y la experiencia de usuario, complementado con conocimientos full-stack y herramientas SEO que me permiten entregar proyectos completos de inicio a fin.',
    'stack.frontendLabel': 'Principal',
    'stack.frontendTitle': 'Frontend',
    'stack.alsoLabel': 'También trabajo con',
    'level.expert': 'Experto',
    'level.advanced': 'Avanzado',
    'level.intermediate': 'Intermedio',
    'about.title': 'Marketing Web Developer<br/><span class="accent-text">& SEO Specialist</span>',
    'about.p1': 'Desarrollador web con 3+ años de experiencia construyendo landing pages de alto rendimiento y sitios orientados a conversión. Especializado en ejecución pixel-perfect desde Figma, tracking con GA4 y Google Tag Manager, y optimización con Lighthouse y Core Web Vitals.',
    'about.p2': 'Experiencia en entornos de marketing donde las páginas web son activos que generan ingresos. Enfoque en código limpio, mantenible y sistemas de componentes reutilizables.',
    'about.role3': 'Marketing Web Developer',
    'about.role3desc': 'Landing pages responsive y pixel-perfect desde Figma. Implementación de GA4 via Google Tag Manager, optimización con Lighthouse y Core Web Vitals, y sistemas de componentes reutilizables para el equipo de marketing.',
    'about.role2': 'Freelance Web Developer & SEO',
    'about.role2desc': 'Sitios web orientados a conversión para e-commerce y generación de leads en EE. UU. y Latinoamérica. Tiendas con WooCommerce y Shopify, enfocadas en performance y posicionamiento orgánico.',
    'about.role1desc': 'Construcción y mantenimiento de sitios en WordPress, Wix y Shopify. SEO técnico, velocidad de carga, HTML semántico y compatibilidad cross-device.',
    'about.edu1degree': 'Full Stack Developer',
    'about.edu2degree': 'Applied Technology',
  },
  en: {
    'nav.about': 'About',
    'nav.services': 'Services',
    'nav.process': 'Process',
    'nav.projects': 'Projects',
    'nav.contact': 'Contact',
    'hero.badge': 'Available for projects',
    'hero.desc1': 'I build professional websites that ',
    'hero.desc2': 'rank on Google',
    'hero.desc3': ' and convert visitors into clients. WordPress, Wix, Shopify — with SEO strategies that drive real organic traffic.',
    'hero.cta1': 'View Projects',
    'hero.cta2': "Let's Talk →",
    'hero.stat1': 'Projects',
    'hero.stat2': 'Years exp.',
    'hero.stat3': 'Platforms',
    'hero.stack': 'Main Stack',
    'about.label': 'About me',
    'about.p1': 'Specialist in building professional websites with WordPress, Wix and Shopify. I apply proven on-page and off-page SEO techniques to rank sites on Google and drive real organic traffic.',
    'about.p2': 'Since 2022 I have worked at agencies and independently, helping businesses grow digitally through comprehensive web development and SEO positioning strategies.',
    'about.role1desc': 'Managed SEO strategies including link building, Google My Business optimization and on/off-page SEO. Web design contributions for client sites.',
    'about.present': 'Present',
    'about.independent': 'Freelance',
    'about.role2desc': 'Helping businesses improve their online visibility through effective SEO and custom WordPress websites that increase traffic and conversions.',
    'about.skillsTitle': 'Specialties',
    'services.label': 'Services',
    'services.titleFull': 'What I <span class="accent-text">offer</span>',
    'services.s1desc': 'Professional, fast and scalable websites. Custom design with Elementor, optimized plugins and clean code.',
    'services.s2desc': 'Full organic positioning strategies. Keyword research, technical audits, link building and content optimization.',
    'services.s3title': 'Online Store',
    'services.s3desc': 'Online stores with WooCommerce and Shopify. Catalogs, payment gateways, inventory management and optimized UX.',
    'services.s4title': 'Support & Maintenance',
    'services.s4desc': 'Ongoing maintenance, updates, backups and technical support so your business never stops.',
    'process.label': 'Process',
    'process.titleFull': 'How I <span class="accent-text">work</span>',
    'process.step1title': 'Research & Strategy',
    'process.step1desc': 'Keyword research, technical audits and competitor analysis. Setting clear goals and SEO strategies.',
    'process.step2title': 'Design & Development',
    'process.step2desc': 'Building the site with SEO best practices from day one. Responsive and optimized design.',
    'process.step3title': 'Testing & Optimization',
    'process.step3desc': 'Speed, accessibility and mobile compatibility tests. Adjustments for maximum user experience.',
    'process.step4title': 'Monitoring & Growth',
    'process.step4desc': 'Analytics and Search Console to track performance and maximize organic traffic.',
    'projects.label': 'Projects',
    'projects.titleFull': 'Latest <span class="accent-text">work</span>',
    'projects.visit': 'Visit →',
    'filter.all': 'All',
    'proj.verden': 'Website for a landscaping company with striking visual design, local SEO and optimized contact form.',
    'proj.detroit': 'Website for a fencing company in Detroit. Local SEO to attract residential and commercial clients.',
    'proj.navet': 'B2B importer-distributor of pet products. Catalog site with solid SEO architecture.',
    'proj.colibri': 'Premium wood products company. Elegant design with WooCommerce integrated.',
    'proj.aion': 'Drone shows in the Caribbean. High-impact site built for conversions to quote events.',
    'proj.spicedup': 'Shopify spice & condiment store. Full e-commerce with catalog and payment gateway.',
    'proj.cursos': 'Online course platform with enrollment system, live classes and integrated consultancy.',
    'proj.prolux': 'Corporate site for a construction company with project portfolio and quote forms.',
    'proj.cecilia': 'Online presence for a nail artist with social media integration and direct contact links.',
    'proj.ekarder': 'Landscaping company with service gallery and local SEO strategy to attract clients.',
    'contact.label': 'Contact',
    'contact.title1': 'Ready to',
    'contact.title2': 'grow online?',
    'contact.desc': "Let's work together on your next project. Whether a new website, an SEO campaign or an online store, I'm ready to help.",
    'contact.phone': 'Phone',
    'form.name': 'Name',
    'form.namePh': 'Your full name',
    'form.service': 'Service',
    'form.serviceDefault': 'What do you need?',
    'form.opt1': 'WordPress Website',
    'form.opt3': 'Online Store',
    'form.opt4': 'Maintenance',
    'form.opt5': 'Other',
    'form.message': 'Message',
    'form.messagePh': 'Tell me about your project...',
    'form.submit': 'Send Message →',
    'form.success': '✓ Message sent!',
    'nav.stack': 'Stack',
    'stack.label': 'Tech Stack',
    'stack.titleFull': 'Frontend <span class="accent-text">& beyond</span>',
    'stack.intro': 'My main focus is frontend development and user experience, complemented by full-stack knowledge and SEO tools that let me deliver complete projects from start to finish.',
    'stack.frontendLabel': 'Core',
    'stack.frontendTitle': 'Frontend',
    'stack.alsoLabel': 'Also work with',
    'level.expert': 'Expert',
    'level.advanced': 'Advanced',
    'level.intermediate': 'Intermediate',
    'about.title': 'Marketing Web Developer<br/><span class="accent-text">& SEO Specialist</span>',
    'about.p1': 'Web developer with 3+ years of experience building high-performance landing pages and conversion-focused websites. Specialized in pixel-perfect execution from Figma, marketing tracking via GA4 and Google Tag Manager, and performance optimization with Lighthouse and Core Web Vitals.',
    'about.p2': 'Experienced in fast-paced marketing environments where web pages are revenue-driving assets. Focus on clean, maintainable code and reusable component systems that increase marketing team velocity.',
    'about.role3': 'Marketing Web Developer',
    'about.role3desc': 'Responsive, pixel-perfect landing pages from Figma. GA4 tracking via Google Tag Manager, Lighthouse and Core Web Vitals optimization, and reusable component systems for the marketing team.',
    'about.role2': 'Freelance Web Developer & SEO',
    'about.role2desc': 'Conversion-focused websites for ecommerce and lead generation clients in the U.S. and Latin America. WooCommerce and Shopify stores focused on performance and organic search rankings.',
    'about.role1desc': 'Built and maintained client sites on WordPress, Wix, and Shopify. Technical SEO, page speed optimization, semantic HTML, and cross-device compatibility.',
    'about.edu1degree': 'Full Stack Developer',
    'about.edu2degree': 'Applied Technology',
  }
};

// ===========================
// LANGUAGE TOGGLE
// ===========================
let currentLang = 'es';

function applyTranslations(lang) {
  document.querySelectorAll('[data-i18n]').forEach(el => {
    const key = el.getAttribute('data-i18n');
    if (translations[lang][key] !== undefined) {
      el.innerHTML = translations[lang][key];
    }
  });
  document.querySelectorAll('[data-i18n-ph]').forEach(el => {
    const key = el.getAttribute('data-i18n-ph');
    if (translations[lang][key] !== undefined) {
      el.placeholder = translations[lang][key];
    }
  });
  // Toggle button label
  document.querySelectorAll('.lang-toggle').forEach(btn => {
    btn.textContent = lang === 'es' ? 'EN' : 'ES';
  });
  document.documentElement.lang = lang;
}

function toggleLang() {
  currentLang = currentLang === 'es' ? 'en' : 'es';
  applyTranslations(currentLang);
}

document.getElementById('lang-toggle').addEventListener('click', toggleLang);
document.getElementById('lang-toggle-mobile').addEventListener('click', toggleLang);

// ===========================
// CUSTOM CURSOR
// ===========================
const cursor = document.getElementById('cursor');
const follower = document.getElementById('cursor-follower');
let mouseX = 0, mouseY = 0, followerX = 0, followerY = 0;

document.addEventListener('mousemove', (e) => {
  mouseX = e.clientX;
  mouseY = e.clientY;
  cursor.style.left = mouseX + 'px';
  cursor.style.top = mouseY + 'px';
});

function animateFollower() {
  followerX += (mouseX - followerX) * 0.12;
  followerY += (mouseY - followerY) * 0.12;
  follower.style.left = followerX + 'px';
  follower.style.top = followerY + 'px';
  requestAnimationFrame(animateFollower);
}
animateFollower();

document.querySelectorAll('a, button, input, textarea, select, .project-card, .service-card').forEach(el => {
  el.addEventListener('mouseenter', () => {
    cursor.style.transform = 'translate(-50%, -50%) scale(2)';
    follower.style.opacity = '0.5';
    follower.style.transform = 'translate(-50%, -50%) scale(1.5)';
  });
  el.addEventListener('mouseleave', () => {
    cursor.style.transform = 'translate(-50%, -50%) scale(1)';
    follower.style.opacity = '1';
    follower.style.transform = 'translate(-50%, -50%) scale(1)';
  });
});

// ===========================
// NAV SCROLL
// ===========================
const nav = document.getElementById('nav');
window.addEventListener('scroll', () => {
  nav.classList.toggle('scrolled', window.scrollY > 60);
});

// ===========================
// MOBILE MENU
// ===========================
const hamburger = document.getElementById('hamburger');
const mobileMenu = document.getElementById('mobile-menu');
hamburger.addEventListener('click', () => mobileMenu.classList.toggle('open'));
function closeMobile() { mobileMenu.classList.remove('open'); }

// ===========================
// SCROLL REVEAL
// ===========================
const revealEls = document.querySelectorAll('.reveal');
const revealObserver = new IntersectionObserver((entries) => {
  entries.forEach((entry) => {
    if (entry.isIntersecting) {
      const el = entry.target;
      const delay = parseInt(el.dataset.delay || 0);
      setTimeout(() => el.classList.add('visible'), delay);
      revealObserver.unobserve(el);
    }
  });
}, { threshold: 0.1, rootMargin: '0px 0px -60px 0px' });

revealEls.forEach((el, i) => {
  const parent = el.parentElement;
  const siblings = parent ? [...parent.querySelectorAll(':scope > .reveal')] : [];
  const idx = siblings.indexOf(el);
  if (idx > 0) el.dataset.delay = idx * 100;
  revealObserver.observe(el);
});

// ===========================
// SKILL BARS (about section)
// ===========================
const skillBars = document.querySelectorAll('.skill-bar-fill');
const skillObserver = new IntersectionObserver((entries) => {
  entries.forEach(entry => {
    if (entry.isIntersecting) {
      entry.target.classList.add('animated');
      skillObserver.unobserve(entry.target);
    }
  });
}, { threshold: 0.3 });
skillBars.forEach(bar => skillObserver.observe(bar));

// ===========================
// STACK BARS (stack section)
// ===========================
const stackBars = document.querySelectorAll('.stack-bar-fill');
const stackBarObserver = new IntersectionObserver((entries) => {
  entries.forEach(entry => {
    if (entry.isIntersecting) {
      entry.target.classList.add('animated');
      stackBarObserver.unobserve(entry.target);
    }
  });
}, { threshold: 0.3 });
stackBars.forEach(bar => stackBarObserver.observe(bar));

// ===========================
// COUNT UP
// ===========================
const countEls = document.querySelectorAll('.stat-num');
const countObserver = new IntersectionObserver((entries) => {
  entries.forEach(entry => {
    if (entry.isIntersecting) {
      const el = entry.target;
      const target = parseInt(el.dataset.count);
      let current = 0;
      const step = target / 40;
      const timer = setInterval(() => {
        current += step;
        if (current >= target) { el.textContent = target; clearInterval(timer); }
        else { el.textContent = Math.floor(current); }
      }, 40);
      countObserver.unobserve(el);
    }
  });
}, { threshold: 0.5 });
countEls.forEach(el => countObserver.observe(el));

// ===========================
// PROJECT FILTER
// ===========================
const filterBtns = document.querySelectorAll('.filter-btn');
const projectCards = document.querySelectorAll('.project-card');

filterBtns.forEach(btn => {
  btn.addEventListener('click', () => {
    filterBtns.forEach(b => b.classList.remove('active'));
    btn.classList.add('active');
    const filter = btn.dataset.filter;
    projectCards.forEach(card => {
      if (filter === 'all' || card.dataset.category === filter) {
        card.classList.remove('hidden');
        card.style.animation = 'fadeInUp 0.4s ease both';
      } else {
        card.classList.add('hidden');
      }
    });
  });
});

// ===========================
// CONTACT FORM
// ===========================
const form = document.getElementById('contact-form');
if (form) {
  form.addEventListener('submit', (e) => {
    e.preventDefault();
    const btn = form.querySelector('button[type="submit"]');
    const successMsg = translations[currentLang]['form.success'];
    btn.textContent = successMsg;
    btn.style.background = '#1a1a1a';
    btn.style.color = '#c8ff00';
    btn.style.border = '1px solid #c8ff00';
    setTimeout(() => {
      btn.textContent = translations[currentLang]['form.submit'];
      btn.style.background = '';
      btn.style.color = '';
      btn.style.border = '';
      form.reset();
    }, 3000);
  });
}

// ===========================
// SMOOTH SCROLL
// ===========================
document.querySelectorAll('a[href^="#"]').forEach(a => {
  a.addEventListener('click', (e) => {
    const target = document.querySelector(a.getAttribute('href'));
    if (target) { e.preventDefault(); target.scrollIntoView({ behavior: 'smooth', block: 'start' }); }
  });
});

// ===========================
// FADE IN KEYFRAME
// ===========================
const style = document.createElement('style');
style.textContent = `@keyframes fadeInUp{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}`;
document.head.appendChild(style);
